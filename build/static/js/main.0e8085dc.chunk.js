(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{176:function(e,t,n){},178:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(9),r=n.n(c),l=n(37),i=n(38),s=n(40),u=n(39),m=function(e){return o.a.createElement("ul",null,e.data.map((function(e){return o.a.createElement("li",{key:e.id},e.title)})))},p=function(e){return o.a.createElement("div",null,[1,2,3,4,5].map((function(t){return o.a.createElement("button",{key:t,onClick:function(){return e.getData(t)}},t)})))},h=(a.Component,n(36)),d=n(10),f=n(30),E=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{arr:E},t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case"GETLIST":return{arr:t.arr};default:return e}},b=n(80),y=[],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;if("COLLECT"==t.type)return Array.from(new Set([].concat(Object(b.a)(e),[t.collect])));if("CANCEL"==t.type){var n=Object(b.a)(e);return console.log(n),n.splice(t.index,1),n}return console.log(t),e},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{username:""},t=arguments.length>1?arguments[1]:void 0;return console.log(t),"LOGIN"==t.type?{username:t.username}:e},C=Object(f.c)({shop:g,collect:v,log:w});var k=Object(f.e)(C,Object(f.d)(Object(f.a)((function(e){var t=e.getState;return function(e){return function(n){console.log("will dispatch",n);var a=e(n);return console.log("state after dispatch",t()),a}}}),(function(e){var t=e.dispatch,n=e.getState;return function(e){return function(a){return console.log("thunk"),"function"===typeof a?a(t,n):e(a)}}})))),N=n(17),j=n(16),O=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.location.pathname;return console.log(t.split("/")),t.split("/").length>2?null:o.a.createElement("div",{style:{position:"fixed",width:"100%",bottom:0}},o.a.createElement(N.d,{unselectedTintColor:"#949494",tintColor:"red",barTintColor:"white"},o.a.createElement(N.d.Item,{title:"\u9996\u9875",key:"home",icon:o.a.createElement("i",{className:"iconfont icon-shouye"}),selectedIcon:o.a.createElement("i",{className:"iconfont icon-shouye"}),selected:"/home"===t,onPress:function(){e.props.history.push("/home")}}),o.a.createElement(N.d.Item,{icon:o.a.createElement("i",{className:"iconfont icon-icon4"}),selectedIcon:o.a.createElement("i",{className:"iconfont icon-icon4"}),title:"\u6536\u85cf",key:"cart",selected:"/cart"===t,onPress:function(){e.props.history.push("/cart"),e.props.username||e.props.history.push("/login")}}),o.a.createElement(N.d.Item,{icon:o.a.createElement("i",{className:"iconfont icon-weibiaoti-"}),selectedIcon:o.a.createElement("i",{className:"iconfont icon-weibiaoti-"}),title:"\u8ba2\u5355\u5217\u8868",key:"code",selected:"/code"===t,onPress:function(){e.props.history.push("/code")}}),o.a.createElement(N.d.Item,{icon:o.a.createElement("i",{className:"iconfont icon-wode2"}),selectedIcon:o.a.createElement("i",{className:"iconfont icon-wode2"}),title:"\u6211\u7684\u6dd8\u5b9d",key:"mine",selected:"/mine"===t,onPress:function(){e.props.history.push("/mine")}})))}}]),n}(o.a.Component),x=Object(j.b)((function(e){return{list:e.shop.arr,username:e.log.username}}))(Object(d.g)(O)),I=(n(176),Object(j.b)((function(e){return{datalist:e.shop.arr}}))(Object(d.g)((function(e){console.log(e),Object(a.useEffect)((function(){e.dispatch((function(e){fetch("https://www.fastmock.site/mock/9e4bbf9e35ad15942010865690c87ac6/api/getgoodslist",{method:"post",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t.data),e({type:"GETLIST",arr:t.data})}))}))}),[]);return o.a.createElement("div",null,o.a.createElement("header",{className:"Search"},o.a.createElement("div",{className:"header-bd"},o.a.createElement("a",{className:"placeholder",onClick:function(){e.history.push("/home/search")}},o.a.createElement("span",{className:"text iconfont iconsousuo"},"\u5bfb\u627e\u5b9d\u8d1d\u5e97\u94fa")))),o.a.createElement(N.a,{autoplay:!0,infinite:!0,style:{marginTop:"37px"}},["https://aecpm.alicdn.com/simba/img/TB12NW9kH1YBuNjSszhSuwUsFXa.jpg","https://img.alicdn.com/imgextra/i1/6000000000720/O1CN01QON2dX1HBnnbupK0g_!!6000000000720-0-octopus.jpg","https://img.alicdn.com/imgextra/i4/6000000002436/O1CN01r0sGKc1TrjRkVM8w8_!!6000000002436-0-octopus.jpg"].map((function(e){return o.a.createElement("a",{key:e,href:"http://www.alipay.com",style:{display:"inline-block",width:"100%",height:176}},o.a.createElement("img",{src:e,alt:"",style:{width:"100%",verticalAlign:"top"},onLoad:function(){window.dispatchEvent(new Event("resize"))}}))}))),o.a.createElement("ul",{className:"goods"},e.datalist.map((function(t,n){return o.a.createElement("li",{key:n,onClick:function(){return e.history.push({pathname:"/home/child",id:t.id})},className:"details"},o.a.createElement("img",{src:t.img}),o.a.createElement("p",{className:"p1"},t.title),o.a.createElement("p",{className:"p2"},"\u4ef7\u683c\uff1a",t.price),o.a.createElement("p",{className:"p3"},t.id,"\u4eba\u8d2d\u4e70"))}))),o.a.createElement(x,null))})))),S=Object(j.b)((function(e){return{arr:e.collect}}))(Object(d.g)((function(e){return o.a.createElement("div",null,o.a.createElement("div",null,e.arr.map((function(t,n){return o.a.createElement("div",null,o.a.createElement("img",{style:{height:"188px"},src:t}),o.a.createElement("button",{id:"cancelbutton",onClick:function(){return e.dispatch({type:"CANCEL",index:n})}},"\u53d6\u6d88\u6536\u85cf"))}))),o.a.createElement(x,null))}))),T=Object(j.b)((function(e){return{arr:e.collect,datalist:e.shop.arr,username:e.log.username}}))(Object(d.g)((function(e){console.log(e);var t=e.location.id;return o.a.createElement("div",{className:"doc"},o.a.createElement(N.b,{type:"left",size:"lg",onClick:function(){return e.history.goBack()}}),o.a.createElement("div",null,o.a.createElement("img",{style:{height:"188px"},src:e.datalist[t-100].img})),o.a.createElement("div",{className:"bottomNav",style:{position:"fixed",bottom:0,width:"100%",height:"80px",lineHeight:"80px"}},o.a.createElement("div",{className:"btns"},o.a.createElement("button",{style:{width:"18%",backgroundColor:"white",border:"none"}},o.a.createElement("i",{className:"iconfont icon-dianpu"}),"\u5e97\u94fa"),o.a.createElement("button",{style:{width:"18%",backgroundColor:"white",border:"none"}},o.a.createElement("i",{className:"iconfont icon-kefu"}),"\u5ba2\u670d"),o.a.createElement("button",{onClick:function(n){e.username||e.history.push("/login"),console.log(e),e.dispatch({type:"COLLECT",collect:e.datalist[t-100].img})},style:{width:"18%",backgroundColor:"white",border:"none",fontSize:"12px"}},e.arr.some((function(n){return n==e.datalist[t-100].img}))?o.a.createElement("i",{className:"iconfont icon-shoucang1"}):o.a.createElement("i",{className:"iconfont icon-shoucang"}),o.a.createElement("span",null,e.arr.some((function(n){return console.log(n),n==e.datalist[t-100].img}))?"\u5df2\u6536\u85cf":"\u6536\u85cf")),o.a.createElement("button",{style:{width:"23%",backgroundColor:" rgb(255, 133, 42)",border:"none"}},"\u52a0\u5165\u8d2d\u7269\u8f66"),o.a.createElement("button",{style:{width:"23%",backgroundColor:" rgb(255, 133, 42)",border:"none"}},"\u7acb\u5373\u8d2d\u4e70"))))}))),L=function(){return o.a.createElement("div",null,"\u8ba2\u5355",o.a.createElement(x,null))},B=function(){return o.a.createElement("div",null,"\u6211\u7684\u6dd8\u5b9d",o.a.createElement(x,null))},z=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={value:""},e.onChange=function(t){e.setState({value:t})},e.clear=function(){e.setState({value:""})},e.handleClick=function(){e.manualFocusInst.focus()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(N.c,{value:this.state.value,placeholder:"Search",onSubmit:function(e){return console.log(e,"onSubmit")},onClear:function(e){return console.log(e,"onClear")},onFocus:function(){return console.log("onFocus")},onBlur:function(){return console.log("onBlur")},onCancel:function(){return e.props.history.goBack()},showCancelButton:!0,onChange:this.onChange}))}}]),n}(o.a.Component),A=Object(j.b)((function(e){return{username:e.username}}))((function(e){return console.log(e),o.a.createElement("div",null,o.a.createElement("div",{style:{fontsize:"20px",fontWeight:"bold"}},"\u8bf7\u60a8\u5148\u767b\u5f55"),o.a.createElement("div",{style:{width:"200px",height:"300px",margin:"0 auto"}},o.a.createElement("from",null,o.a.createElement("input",{type:"text",name:"username",placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",style:{marginTop:"30px",marginBottom:"30px",width:"200px",height:"20px"}}),o.a.createElement("br",null),o.a.createElement("input",{type:"password",name:"username",placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",style:{marginBottom:"30px",width:"200px",height:"20px"}})),o.a.createElement("button",{style:{width:"80px",height:"30px",marginLeft:"60px"},onClick:function(){e.history.push("/cart"),e.dispatch((function(e){fetch("https://www.fastmock.site/mock/9e4bbf9e35ad15942010865690c87ac6/api/login",{method:"post",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e({type:"LOGIN",username:t.data.name})}))}))}},"\u767b\u5f55")))})),G=function(){return o.a.createElement(j.a,{store:k},o.a.createElement(h.a,null,o.a.createElement(d.d,null,o.a.createElement(d.b,{exact:!0,path:"/home",component:I}),o.a.createElement(d.b,{path:"/cart",component:S}),o.a.createElement(d.b,{path:"/home/detail",component:S}),o.a.createElement(d.b,{path:"/home/child",render:function(e){return o.a.createElement(T,e)}}),o.a.createElement(d.b,{path:"/home/search",component:z}),o.a.createElement(d.b,{path:"/code",component:L}),o.a.createElement(d.b,{path:"/Mine",component:B}),o.a.createElement(d.b,{path:"/login",component:A}),o.a.createElement(d.b,{component:I}),o.a.createElement(d.b,{render:function(){return o.a.createElement(d.a,{to:"/"})}})),o.a.createElement(x,null)))};n(177);r.a.render(o.a.createElement(G,null),document.getElementById("root"))},99:function(e,t,n){e.exports=n(178)}},[[99,1,2]]]);
//# sourceMappingURL=main.0e8085dc.chunk.js.map